# coffeehouse2

Кофейня - многопоточная версия

Учебное приложение на Java, моделирующее работу кофейни

Разработано в Intellij IDEA на базе фреймворка Spring (обеспечение Web API)

Docker-образ:


## Программная архитектура

Приложение работает на трёх потоках

### Web API

Предоставляет программный интерфейс в виде http-адресов.
Формирует заказы.
По команде передаёт сформированный заказ на сервис приёма заказов средствами NIO SocketChannel

### Приём заказов

Принимает заказы и передаёт их по NIO SocketChannel на производство (поток "бариста")

### Выполнение заказов

Имитирует выполнение заказов и выдачу их клиенту


## Описание Web API

### GET /orders

Создаёт заказ, возвращает идентификатор

### GET /orders/{id}

Возвращает содержимое заказа. Пример вывода:

[
    {
        "id": 0,
        "name": "Kenian coffee",
        "prise": 150.0,
        "count": 1
    },
    {
        "id": 1,
        "name": "Plain coffee",
        "prise": 100.0,
        "count": 2
    }
]


### PUT /orders/{id}

Добавляет позицию в заказ. Пример JSON кода при отправке:

{
    "name" : "Kenian coffee",
    "prise" : 150,
    "count" : 2
}

### DELETE /orders/{id}/items/{id}

Удаляет позицию из заказа, возвращает обновлённый список позиций в заказе

### DELETE /orders/{id}

Удаляет заказ

### POST /orders/{id}

Отправляет заказ в производство (через сервер заказов)

### GET /product

Возвращает номера заказов в производстве

### GET /distrib

Возвращет номера готовых заказов
